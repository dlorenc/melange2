package:
  name: conditional-test
  version: 1.0.0
  epoch: 0
  description: Test conditional pipeline execution with if statements
  copyright:
    - license: MIT

vars:
  enable-feature: "true"
  disable-feature: "false"

pipeline:
  - name: setup
    runs: |
      mkdir -p /home/build/melange-out/conditional-test/usr/share/conditional-test

  - name: always-runs
    runs: |
      echo "always" > /home/build/melange-out/conditional-test/usr/share/conditional-test/always.txt

  - name: enabled-feature
    if: ${{vars.enable-feature}}
    runs: |
      echo "enabled" > /home/build/melange-out/conditional-test/usr/share/conditional-test/enabled.txt

  - name: disabled-feature
    if: ${{vars.disable-feature}}
    runs: |
      echo "disabled" > /home/build/melange-out/conditional-test/usr/share/conditional-test/disabled.txt
