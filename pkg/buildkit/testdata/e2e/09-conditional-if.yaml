package:
  name: conditional-test
  version: 1.0.0
  epoch: 0
  description: Test conditional pipeline execution with if statements
  copyright:
    - license: MIT

vars:
  enable-feature: "true"
  disable-feature: "false"

pipeline:
  - name: setup
    runs: |
      mkdir -p ${{targets.destdir}}/usr/share/conditional-test

  - name: always-runs
    runs: |
      echo "always" > ${{targets.destdir}}/usr/share/conditional-test/always.txt

  - name: enabled-feature
    if: ${{vars.enable-feature}}
    runs: |
      echo "enabled" > ${{targets.destdir}}/usr/share/conditional-test/enabled.txt

  - name: disabled-feature
    if: ${{vars.disable-feature}}
    runs: |
      echo "disabled" > ${{targets.destdir}}/usr/share/conditional-test/disabled.txt

  - name: true-condition
    if: true
    runs: |
      echo "true-condition" > ${{targets.destdir}}/usr/share/conditional-test/true.txt

  - name: false-condition
    if: false
    runs: |
      echo "false-condition" > ${{targets.destdir}}/usr/share/conditional-test/false.txt
